<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>OnePos: Quick Start Guide for the XMEGA Sleep Driver</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">OnePos
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Quick Start Guide for the XMEGA Sleep Driver </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This is the quick start guide for the <a class="el" href="group__sleep__group.html">Sleep Driver</a>, with step-by-step instructions on how to configure and use the driver for a specific use case.</p>
<p>The section described below can be copied into, e.g. the main application loop or any other function that will need to control and execute different sleep modes on the device.</p>
<h1><a class="anchor" id="xmega_sleep_quickstart_basic"></a>
Basic usage of the sleep driver</h1>
<p>This use case will prepare the device to enter the Power Down sleep mode and then enter the sleep mode. After waking up it will disable sleep.</p>
<h1><a class="anchor" id="xmega_sleep_basic_usage"></a>
Workflow</h1>
<h2><a class="anchor" id="xmega_sleep_basic_usage_code"></a>
Example code</h2>
<p>Add to, e.g., the main loop in the application C-file: </p>
<div class="fragment"><div class="line">        sleep_set_mode(SLEEP_SMODE_PDOWN_gc);</div>
<div class="line">        sleep_enable();</div>
<div class="line">        sleep_enter();</div>
<div class="line">        sleep_disable();</div>
</div><!-- fragment --><h2><a class="anchor" id="xmega_sleep_basic_usage"></a>
Workflow</h2>
<ol type="1">
<li>Set what sleep mode to use, the different sleep modes can be found in the device header file under the enum definition SLEEP_SMODE_enum:<ul>
<li><div class="fragment"><div class="line"> sleep_set_mode(SLEEP_SMODE_PDOWN_gc); </div>
</div><!-- fragment --></li>
</ul>
</li>
<li>Enable that the device are allowed to go to sleep:<ul>
<li><div class="fragment"><div class="line"> sleep_enable(); </div>
</div><!-- fragment --></li>
<li><dl class="section note"><dt>Note:</dt><dd>This function has to be called in order for the device to go to sleep. This is a safety feature to stop the device to go to sleep unintentionally, even though it is possible to have this enabled at all times it is recommended to enable sleep mode only when you intend to go to sleep within a few clock cycles.</dd></dl>
</li>
</ul>
</li>
<li>Enter sleep mode:<ul>
<li><div class="fragment"><div class="line"> sleep_enter(); </div>
</div><!-- fragment --></li>
<li><dl class="section attention"><dt>Attention:</dt><dd>Make sure to enable global interrupt and the interrupt you plan to use as wake-up source for your device, do also pay special attention to what wake-up sources are available for the different sleep modes. Failing to enable interrupts may result in indefinite sleep until power is cycled!</dd></dl>
</li>
</ul>
</li>
<li>When the device is woken from sleep it will execute the interrupt handler related to the wakeup-source (interrupt source) and continue on the next line of code after the sleep_enter() call. Make sure to disable sleep when waking up.<ul>
<li><div class="fragment"><div class="line"> sleep_disable(); </div>
</div><!-- fragment --></li>
</ul>
</li>
</ol>
<h2><a class="anchor" id="xmega_sleep_basic_sleep_modes"></a>
Sleep Modes</h2>
<p>Possible sleep modes depend on the device that is used. Please refer to the device datasheet and header file to find these definitions.</p>
<p>As an example the ATxmega32A4U device has the following sleep modes:</p>
<ul>
<li>Idle sleep: SLEEP_SMODE_IDLE_gc</li>
<li>Power Down: SLEEP_SMODE_PDOWN_gc</li>
<li>Power Save: SLEEP_SMODE_PSAVE_gc</li>
<li>Standby: SLEEP_SMODE_STDBY_gc</li>
<li>Extended standby: SLEEP_SMODE_ESTDBY_gc </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Oct 10 2017 23:17:48 for OnePos by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.1
</small></address>
</body>
</html>
